<!-- Users Management -->
<section id="users-section" style="display:none;">
  <div class="numbers-header">
    <h3>Users Management</h3>
    <div class="actions">
    <input type="text" id="search-users" class="search-box" placeholder="ğŸ” Search clients..." oninput="applyFilters()">
    <select id="tagFilterUsers" class="form-select filter-select" onchange="applyFilters()">
          <option value="">All Roles</option>
          <option value="super_admin">Super Admin</option>
          <option value="supervisor">Supervisor</option>
          <option value ="admin">Admin</option>  
          <option value ="agent">Agent</option> 
    </select>
    <button id="addUserBtn" class="btn-modern"><i class="fas fa-plus"></i></button>
  </div>
  </div>
  
        
<div class="numbers-table-header">
      <span>User</span>
      <span>Phone</span>
      <span>ID</span>
      <span>Role</span>
      <span>Actions</span>
  </div>
      <div class="numbers-grid" id="usersGrid"></div>
</section>
<script>
  // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† localStorage
const user = JSON.parse(localStorage.getItem("user")); 
  if (!user) {
    window.location.href = "index.html"; // Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù€ login Ù„Ùˆ Ù…Ø§ ÙÙŠ Ø¬Ù„Ø³Ø©
  }

  // ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
  if (user.role === "super_admin") {
    document.getElementById("numbers-section").style.display = "block";
    document.getElementById("users-section").style.display = "block";
    loadSessionsByRole("super_admin", user.id);
  } else if (user.role === "admin") {
    document.getElementById("numbers-section").style.display = "block";
    loadSessionsByRole("admin", user.id);
  } else if (user.role === "supervisor") {
    // Ù…Ø¤Ù‚ØªØ§Ù‹ Ù…Ø«Ù„ super_admin
   if (user.permissions?.can_manage_numbers) {
    document.getElementById("numbers-section").style.display = "block";
  }
  if (user.permissions?.can_manage_users) {
   document.getElementById("users-section").style.display = "block";
  } loadSessionsByRole("supervisor", user.id);
  } else if (user.role === "agent") {
    // Agent ÙŠØ´ÙˆÙ Ù…Ø­Ø§Ø¯Ø«Ø§ØªÙ‡ ÙÙ‚Ø·
    loadSessionsByRole("agent", user.id);
  }
    </script>
 <!-- Modal Ù„Ø¥Ø¯Ø§Ø±Ø© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø´Ø±Ù -->
<div class="modal fade" id="permModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Supervisor Permissions</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="permUsers">
          <label class="form-check-label">Can Manage Users</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="permNumbers">
          <label class="form-check-label">Can Manage Numbers</label>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button class="btn btn-primary" onclick="savePermissions()">Save</button>
      </div>
    </div>
  </div>
</div> 
<!-- Add User Modal -->
<div class="modal fade" id="addUserModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Add User</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Name</label>
          <input type="text" id="newName" class="form-control">
        </div>
        <div class="form-group">
          <label>Phone</label>
          <input type="text" id="newPhone" class="form-control">
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="newPassword" class="form-control">
        </div>
        <div class="form-group">
          <label>Role</label>
          <select id="newRole" class="form-control">
            <option value="super_admin">Super Admin</option>
            <option value="supervisor">Supervisor</option>
            <option value="admin">Admin</option>
            <option value="agent">Agent</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button class="btn btn-primary" onclick="createUser()">Save</button>
      </div>
    </div>
  </div>
</div>

<!-- Edit User Modal -->
<div class="modal fade" id="editUserModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit User</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Name</label>
          <input type="text" id="editName" class="form-control">
        </div>
        <div class="form-group">
          <label>Phone</label>
          <input type="text" id="editPhone" class="form-control">
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="editPassword" class="form-control">
        </div>
        <div class="form-group">
          <label>Role</label>
          <select id="editRole" class="form-control">
            <option value="super_admin">Super Admin</option>
            <option value="supervisor">Supervisor</option>
            <option value="admin">Admin</option>
            <option value="agent">Agent</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button class="btn btn-primary" onclick="saveUserEdits()">Save</button>
      </div>
    </div>
  </div>
</div>
 
    
      
    
 
